// This is your Prisma schema for PostgreSQL (Neon)
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                      String             @id @default(uuid())
  discordId              String             @unique @map("discord_id")
  email                  String             @unique
  image                  String?
  role                   String             @default("USER")
  subscriptionStatus     String             @default("INACTIVE")
  subscriptionPlan       String?
  subscriptionExpiresAt  DateTime?          @map("subscription_expires_at")
  createdAt              DateTime           @default(now()) @map("created_at")
  updatedAt              DateTime           @updatedAt @map("updated_at")

  @@map("users")
}

model Username {
  id            String    @id @default(uuid())
  name          String
  platform      String
  category      String
  status        String    @default("AVAILABLE")
  availableDate DateTime? @map("available_date")
  foundAt       DateTime  @default(now()) @map("found_at")
  createdAt     DateTime  @default(now()) @map("created_at")

  @@unique([name, platform])
  @@map("usernames")
}
